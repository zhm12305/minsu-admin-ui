(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5590a40a"],{"1a91":function(e,t,r){"use strict";r.d(t,"e",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"h",(function(){return l})),r.d(t,"c",(function(){return i})),r.d(t,"g",(function(){return c})),r.d(t,"f",(function(){return o})),r.d(t,"b",(function(){return m}));var n=r("b775");function a(e){return Object(n["a"])({url:"/huacai/merchant/list",method:"get",params:e})}function s(e){return Object(n["a"])({url:"/huacai/merchant/"+e,method:"get"})}function u(e){return Object(n["a"])({url:"/huacai/merchant",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/huacai/merchant",method:"put",data:e})}function i(e){return Object(n["a"])({url:"/huacai/merchant/"+e,method:"delete"})}function c(){return Object(n["a"])({url:"/huacai/merchant/selectMerchantWhereUserId",method:"get"})}function o(){return Object(n["a"])({url:"/huacai/merchant/selectMerchantByUserId",method:"get"})}function m(e){return Object(n["a"])({url:"/huacai/merchant/"+e,method:"put"})}},"346e":function(e,t,r){"use strict";r("d61c")},"517c":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"max-width":"900px",margin:"20px auto",padding:"0 15px"}},[r("el-card",{staticStyle:{"margin-bottom":"20px"}},[r("div",{staticClass:"title"},[e._v("当前认证状态")]),r("div",{staticStyle:{padding:"10px 0"}},[r("el-alert",{attrs:{title:e.statusTitle,type:e.statusType,description:e.statusDescription,"show-icon":"",closable:!1}})],1)]),"未提交认证"==e.state||"已拒绝"==e.state?r("el-card",{staticStyle:{"margin-bottom":"20px"}},[r("div",{staticClass:"title"},[e._v("商家认证申请")]),r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"法人姓名",prop:"legalPerson"}},[r("el-input",{attrs:{placeholder:"请输入法人姓名"},model:{value:e.form.legalPerson,callback:function(t){e.$set(e.form,"legalPerson",t)},expression:"form.legalPerson"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[r("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1)],1),r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"营业执照",prop:"businessLicense"}},[r("image-upload",{model:{value:e.form.businessLicense,callback:function(t){e.$set(e.form,"businessLicense",t)},expression:"form.businessLicense"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"法人身份证",prop:"legalPersonCard"}},[r("image-upload",{model:{value:e.form.legalPersonCard,callback:function(t){e.$set(e.form,"legalPersonCard",t)},expression:"form.legalPersonCard"}})],1)],1)],1)],1),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提 交")]),r("el-button",{on:{click:e.resetFrom}},[e._v("重 置")])],1)],1):e._e()],1)},a=[],s=r("1a91"),u={name:"merchantAuth",data:function(){return{state:"",form:{merchantId:null,legalPerson:null,phone:null,businessLicense:null,legalPersonCard:null,state:null,userId:null},rules:{legalPerson:[{required:!0,message:"法人姓名不能为空",trigger:"blur"}],state:[{required:!0,message:"认证状态不能为空",trigger:"change"}],userId:[{required:!0,message:"用户ID不能为空",trigger:"blur"}],phone:[{required:!0,message:"联系电话不能为空",trigger:"blur"}],businessLicense:[{required:!0,message:"营业执照未上传",trigger:"blur"}],legalPersonCard:[{required:!0,message:"法人身份证未上传",trigger:"blur"}]}}},computed:{statusTitle:function(){switch(this.state){case"待审核":return"认证审核中";case"已通过":return"认证已通过";case"已拒绝":return"认证未通过";default:return"未提交认证"}},statusType:function(){switch(this.state){case"待审核":return"info";case"已通过":return"success";case"已拒绝":return"error";default:return"warning"}},statusDescription:function(){switch(this.state){case"待审核":return"您的商家认证已提交, 正在审核中, 请耐心等待";case"已通过":return"恭喜! 您的商家认证已通过审核, 现在可以开始使用商家功能";case"已拒绝":return"您的商家申请未通过审核, 请重新提交申请";default:return"您未提交商家认证申请, 请填写下方表单提交认证"}}},created:function(){this.getList()},methods:{getList:function(){var e=this;Object(s["g"])().then((function(t){0==t.data?e.state="未提交认证":Object(s["f"])().then((function(t){e.state=t.data.state,console.log(e.state)}))}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(s["a"])(e.form).then((function(t){e.$modal.msgSuccess("提交成果, 请等待审核"),e.getList()}))}))},resetFrom:function(){this.$refs.form.resetFields()}}},l=u,i=(r("346e"),r("2877")),c=Object(i["a"])(l,n,a,!1,null,"7e74fff8",null);t["default"]=c.exports},d61c:function(e,t,r){}}]);