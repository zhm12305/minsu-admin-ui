(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d89548c","chunk-49d1a0d7"],{"0d63":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[n("el-form-item",{attrs:{label:"请假标题",prop:"qingJiaTitle"}},[n("el-input",{attrs:{placeholder:"请输入请假标题",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery.apply(null,arguments)}},model:{value:e.queryParams.qingJiaTitle,callback:function(t){e.$set(e.queryParams,"qingJiaTitle",t)},expression:"queryParams.qingJiaTitle"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),n("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),n("el-row",{staticClass:"mb8",attrs:{gutter:10}},[n("el-col",{attrs:{span:1.5}},[n("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["infoQingJia:infoQingJia:add"],expression:"['infoQingJia:infoQingJia:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),n("el-col",{attrs:{span:1.5}},[n("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["infoQingJia:infoQingJia:edit"],expression:"['infoQingJia:infoQingJia:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),n("el-col",{attrs:{span:1.5}},[n("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["infoQingJia:infoQingJia:remove"],expression:"['infoQingJia:infoQingJia:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),n("el-col",{attrs:{span:1.5}},[n("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["infoQingJia:infoQingJia:export"],expression:"['infoQingJia:infoQingJia:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),n("el-col",{attrs:{span:1.5}},[n("el-button",{attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:!e.selectedRow||1!==e.selectedRow.processStatus&&4!==e.selectedRow.processStatus},on:{click:e.handleStartTask}},[e._v("发起申请")])],1),n("el-col",{attrs:{span:1.5}},[n("el-button",{attrs:{size:"mini",plain:"",type:"danger",icon:"el-icon-delete",disabled:!e.selectedRow||2!==e.selectedRow.processStatus},on:{click:e.handleRevokeProcess}},[e._v("撤销流程")])],1),n("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{"highlight-current-row":"",data:e.infoQingJiaList},on:{"row-click":e.clickRow,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{label:"请假标题",align:"center",prop:"qingJiaTitle"}}),n("el-table-column",{attrs:{label:"请假原因",align:"center",prop:"qingJiaReason"}}),n("el-table-column",{attrs:{label:"请假天数",align:"center",prop:"qingJiaDay"}}),n("el-table-column",{attrs:{label:"请假状态",align:"center",prop:"processStatus"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("dict-tag",{attrs:{options:e.dict.type.process_business_status,value:t.row.processStatus}})]}}])}),n("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.processStatus||4==t.row.processStatus?n("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(n){return e.handleUpdate(t.row)}}},[e._v("修改")]):e._e(),1==t.row.processStatus||4==t.row.processStatus?n("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(n){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e(),1!==t.row.processStatus?n("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(n){return e.handleJinDu(t.row)}}},[e._v("查询进度")]):e._e(),1!==t.row.processStatus?n("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(n){return e.openHistoryDialog(t.row)}}},[e._v("追踪过程")]):e._e()]}}])})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),n("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"请假标题",prop:"qingJiaTitle"}},[n("el-input",{attrs:{placeholder:"请输入请假标题"},model:{value:e.form.qingJiaTitle,callback:function(t){e.$set(e.form,"qingJiaTitle",t)},expression:"form.qingJiaTitle"}})],1),n("el-form-item",{attrs:{label:"请假原因",prop:"qingJiaReason"}},[n("el-input",{attrs:{placeholder:"请输入请假原因"},model:{value:e.form.qingJiaReason,callback:function(t){e.$set(e.form,"qingJiaReason",t)},expression:"form.qingJiaReason"}})],1),n("el-form-item",{attrs:{label:"请假天数",prop:"qingJiaDay"}},[n("el-input",{attrs:{placeholder:"请输入请假天数"},model:{value:e.form.qingJiaDay,callback:function(t){e.$set(e.form,"qingJiaDay",t)},expression:"form.qingJiaDay"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),n("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),n("JinDu",{ref:"picture"}),n("el-dialog",{attrs:{visible:e.historyDialogVisible,width:"50%"},on:{"update:visible":function(t){e.historyDialogVisible=t}}},[n("span",{attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"el-icon-document-copy"}),e._v(" 追踪过程 ")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.historyList,border:""}},[n("el-table-column",{attrs:{label:"序号",align:"center",type:"index",index:e.indexMethod}}),n("el-table-column",{attrs:{align:"center",prop:"taskName",label:"节点名称",width:"180"}}),n("el-table-column",{attrs:{align:"center",prop:"endTime",label:"执行时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.formatTime(t.row.endTime||t.row.startTime)))])]}}])}),n("el-table-column",{attrs:{align:"center",prop:"nickName",label:"执行人",width:"180"}}),n("el-table-column",{attrs:{align:"center",prop:"comment",label:"审核意见"}})],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.historyDialogVisible=!1}}},[e._v("关闭")])],1)],1)],1)},a=[],o=n("5530"),r=(n("99af"),n("caad"),n("d81d"),n("fb6a"),n("d3b7"),n("2532"),n("0643"),n("4e3e"),n("a573"),n("159b"),n("71ef")),s=n("a619"),l=n("ef5b"),c={dicts:["process_business_status"],name:"InfoQingJia",components:{JinDu:s["default"]},data:function(){return{selectedRow:null,historyList:[],historyDialogVisible:!1,loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,infoQingJiaList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,qingJiaTitle:null,qingJiaReason:null,qingJiaDay:null,userId:null},form:{},rules:{qingJiaTitle:[{required:!0,message:"请假标题不能为空",trigger:"blur"}],qingJiaReason:[{required:!0,message:"请假原因不能为空",trigger:"blur"}],qingJiaDay:[{required:!0,message:"请假天数不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{clickRow:function(e){this.selectedRow=e;var t=this.$refs.table,n=t.selection;n.includes(e)||n.forEach((function(e){t.toggleRowSelection(e)})),t.toggleRowSelection(e)},formatTime:function(e){var t=new Date(e),n=t.getFullYear(),i=("0"+(t.getMonth()+1)).slice(-2),a=("0"+t.getDate()).slice(-2),o=("0"+t.getHours()).slice(-2),r=("0"+t.getMinutes()).slice(-2),s=("0"+t.getSeconds()).slice(-2);return"".concat(n,"-").concat(i,"-").concat(a," ").concat(o,":").concat(r,":").concat(s)},openHistoryDialog:function(e){var t=this;Object(r["g"])({processInstanceId:e.processInstanceId}).then((function(e){t.historyList=e.data,t.historyDialogVisible=!0})).catch((function(e){console.error("获取历史记录时出错:",e)}))},indexMethod:function(e){var t=this.queryParams.pageNum-1;return-1!==t&&0!==t?e+1+t*this.queryParams.pageSize:e+1},getList:function(){var e=this;this.loading=!0,Object(l["d"])(this.queryParams).then((function(t){e.infoQingJiaList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,qingJiaTitle:null,qingJiaReason:null,qingJiaDay:null,userId:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加请假"},handleUpdate:function(e){var t=this;console.log(e,"asdads"),this.reset();var n=e.id||this.ids;Object(l["c"])(n).then((function(e){t.form=e.data,t.open=!0,t.title="修改请假"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?Object(l["e"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(l["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,n=e.id||this.ids;this.$modal.confirm('是否确认删除请假编号为"'+n+'"的数据项？').then((function(){return Object(l["b"])(n)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){this.download("infoQingJia/infoQingJia/export",Object(o["a"])({},this.queryParams),"infoQingJia_".concat((new Date).getTime(),".xlsx"))},handleStartTask:function(){var e=this,t=this.selectedRow;t?this.$confirm("是否确认发起申请？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["i"])({businessKey:t.id,businessType:1}).then((function(t){e.getList(),e.$modal.msgSuccess("发起成功"),e.selectedRow=null}))})).catch((function(){})):this.$message.error("请先选择一行数据")},handleRevokeProcess:function(){var e=this,t=this.selectedRow;t?this.$confirm("是否确撤销申请？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n={businessKey:t.id,businessType:1,processInstanceId:t.processInstanceId};Object(r["d"])(n).then((function(t){e.getList(),e.$modal.msgSuccess("撤销成功"),e.selectedRow=null}))})).catch((function(){})):this.$message.error("请先选择一行数据")},handleJinDu:function(e){this.$refs.picture.handleOpen(e)}}},u=c,d=n("2877"),f=Object(d["a"])(u,i,a,!1,null,null,null);t["default"]=f.exports},"6c1e":function(e,t,n){"use strict";n("ad46")},"71ef":function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"h",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return m}));var i=n("b775");function a(e){return Object(i["a"])({url:"/task/startTask",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/task/revokeProcess",method:"get",params:e})}function r(e){return Object(i["a"])({url:"/task/selectMyTask",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/task/claimTask",method:"get",params:{taskId:e}})}function l(e){return Object(i["a"])({url:"/task/unClaimTask",method:"get",params:{taskId:e}})}function c(e){return Object(i["a"])({url:"/task/selectGroupTask",method:"get",params:e})}function u(e){return Object(i["a"])({url:"/task/passTask",method:"post",data:e})}function d(e){return Object(i["a"])({url:"/task/selectHistory",method:"get",params:e})}function f(e){return Object(i["a"])({url:"/task/selectBefore",method:"get",params:e})}function m(e){return Object(i["a"])({url:"/task/fallBackTaskByTaskDefinitionKey",method:"get",params:e})}},a619:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.dialogVisible?n("vxe-modal",{attrs:{title:"办理轨迹",width:"60%",height:"60vh","esc-closable":"","show-zoom":"",resize:""},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[n("el-tabs",{attrs:{"tab-position":"top"},on:{"tab-click":e.handleTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{name:"zzGc"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-date"}),e._v(" 追踪过程")]),"zzGc"===e.activeName?n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.historyList,border:"","header-cell-style":{background:"#d0cece",color:"#000000",fontWeight:"bold"}}},[n("el-table-column",{attrs:{label:"序号",align:"center",type:"index"}}),n("el-table-column",{attrs:{align:"center",prop:"taskName",label:"节点名称",width:"180"}}),n("el-table-column",{attrs:{align:"center",prop:"endTime",label:"执行时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.formatTime(t.row.endTime||t.row.startTime)))])]}}],null,!1,4221860926)}),n("el-table-column",{attrs:{align:"center",prop:"nickName",label:"执行人",width:"180"}}),n("el-table-column",{attrs:{align:"center",prop:"comment",label:"审核意见"}})],1):e._e()],1),n("el-tab-pane",{attrs:{name:"spLc"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-date"}),e._v(" 审批流程图")]),[n("div",[n("div",{staticClass:"bpmn-viewer-container"},[n("div",{staticStyle:{position:"absolute","z-index":"99999999999",right:"0"}},[n("el-button-group",{key:"scale-control"},[n("el-tooltip",{attrs:{effect:"light",content:"缩小视图"}},[n("el-button",{attrs:{size:e.headerButtonSize,disabled:e.defaultZoom<.2,icon:"el-icon-zoom-out"},on:{click:function(t){return e.processZoomOut()}}})],1),n("el-button",{attrs:{size:e.headerButtonSize}},[e._v(e._s(Math.floor(10*this.defaultZoom*10)+"%"))]),n("el-tooltip",{attrs:{effect:"light",content:"放大视图"}},[n("el-button",{attrs:{size:e.headerButtonSize,disabled:e.defaultZoom>4,icon:"el-icon-zoom-in"},on:{click:function(t){return e.processZoomIn()}}})],1),n("el-tooltip",{attrs:{effect:"light",content:"重置视图并居中"}},[n("el-button",{attrs:{size:e.headerButtonSize,icon:"el-icon-c-scale-to-original"},on:{click:function(t){return e.processReZoom()}}})],1)],1)],1),n("div",{ref:"canvas",staticStyle:{width:"100%",height:"400px",margin:"0 auto"},attrs:{id:"bpmnCanvas"}}),n("Popover",{ref:"flowMsgPopover",attrs:{overlayClassName:"flowMsgPopover",visible:!0},scopedSlots:e._u([{key:"title",fn:function(){return[n("h1",{staticClass:"popover-title"},[e._v(e._s(e.detailInfo.name))])]},proxy:!0},{key:"content",fn:function(){return[null!=e.detailInfo.activityName&&""!==e.detailInfo.activityName&&"undefined"!==e.detailInfo.activityName?n("p",[e._v("节点名称："+e._s(e.detailInfo.activityName||""))]):e._e(),n("p",e._l(e.detailInfo.approver.split(";"),(function(t){return null!=e.detailInfo.activityName&&""!==e.detailInfo.activityName&&"undefined"!==e.detailInfo.activityName?n("Tag",{key:t,staticStyle:{"margin-right":"4px","margin-bottom":"4px"},attrs:{color:"processing"}},[e._v(e._s(t)+" ")]):e._e()})),1),null!=e.detailInfo.activityName&&""!==e.detailInfo.activityName&&"undefined"!==e.detailInfo.activityName?n("p",[e._v("执行时间："+e._s(e.formatTime(e.detailInfo.endTime)||""))]):e._e()]},proxy:!0}],null,!1,3960692441)})],1)])]],2)],1)],1):e._e()},a=[],o=n("c7eb"),r=n("1da1"),s=(n("d9e2"),n("99af"),n("14d9"),n("fb6a"),n("b0c0"),n("d3b7"),n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("466d"),n("5319"),n("0643"),n("4e3e"),n("159b"),n("ff02")),l=n("71ef"),c=n("7571"),u=n("8592"),d=n("681b"),f=n("5efb"),m=n("1d87"),h=n("7071"),p=n("8520"),g=n("88eb"),b=n("041f"),v=null,y={props:{headerButtonSize:{type:String,default:"small",validator:function(e){return-1!==["default","medium","small","mini"].indexOf(e)}},reviewObj:{type:Object}},components:{Tag:c["a"],Spin:u["a"],Popover:d["a"],Button:f["a"],Space:m["a"],Affix:h["a"],RadioButtonGroup:f["a"].RadioButtonGroup,PlusCircleOutlined:p["PlusCircleOutlined"],MinusCircleOutlined:p["MinusCircleOutlined"],OneToOneOutlined:p["OneToOneOutlined"]},data:function(){return{bpmnViewer:null,container:null,canvas:null,dialogVisible:!1,rowData:null,pictureXml:null,activeName:"zzGc",historyList:[],detailInfo:{approver:""},executedLightNode:[],highlightLine:[],activeLightNode:[],modelName:"",defaultZoom:1,nodeDetail:{},scale:1,title:"流程预览",instanceId:void 0}},mounted:function(){this.initPage(this.instanceId)},created:function(){},methods:{handleTabClick:function(e,t){console.log("当前标签页名称:",e.name),"spLc"===e.name&&this.initPage(this.instanceId),console.log("触发事件:",t)},initPage:function(e,t){var n=this,i=this.$refs.canvas;v&&v.destroy(),v=new g["a"]({container:i,width:"100%",additionalModules:[b["a"]]}),this.instanceId=e;document.getElementsByTagName("svg").length;(e||t)&&Object(s["c"])({instanceId:e,procDefId:t}).then((function(e){200===e.code?(n.title=e.data.modelName,n.highlightLine=e.data.highlightedFlowIds,n.executedLightNode=e.data.executedActivityIds,n.activeLightNode=e.data.activeActivityIds,v&&n.importXml(e.data.modelXml)):n.$message({message:e.data.msg,type:"error"})}))},getHtmlAttr:function(e,t,n){var i=[],a="<"+t+"[^<>]*?\\s"+n+"=['\"]?(.*?)['\"]?\\s.*?>",o=e.match(new RegExp(a,"gi"));return o&&o.forEach((function(e){e&&i.push(e)})),i},importXml:function(e){var t=this;return Object(r["a"])(Object(o["a"])().mark((function n(){var i,a;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=t.getHtmlAttr(e,"exclusiveGateway","id"),a=e,i&&i.length>0&&i.forEach((function(e){var t=new RegExp('id="(.+?)"').exec(e);t&&t[1]&&(a=a.replace('bpmnElement="'+t[1]+'"','bpmnElement="'+t[1]+'" isMarkerVisible="true"'))})),v.importXML(a,(function(e){e?console.error(e,1111):t.importXmlSuccess()}));case 4:case"end":return n.stop()}}),n)})))()},importXmlSuccess:function(){var e=v.get("canvas");e.zoom("fit-viewport","auto"),e.zoom(1.02),this.setViewerStyle(e),this.bindEvents()},setViewerStyle:function(e){var t=this.highlightNode;t&&t.length>0&&t.forEach((function(t){e.addMarker(t,"highlight");var n=document.querySelector(".highlight").querySelector(".djs-visual rect");n&&n.setAttribute("stroke-dasharray","4,4")}));var n=this.highlightLine;n&&n.length>0&&n.forEach((function(t){e.addMarker(t,"highlight-line")}));var i=this.executedLightNode;i&&i.length>0&&i.forEach((function(t){e.addMarker(t,"highlight-executed")}));var a=this.activeLightNode;a&&a.length>0&&(a.forEach((function(t,n){e.addMarker(t,"highlight")})),document.querySelectorAll(".highlight").forEach((function(e,t){e.querySelector(".djs-visual rect").setAttribute("stroke-dasharray","4,4")})))},genNodeDetailBox:function(e,t){var n=document.createElement("div"),i=document.querySelector(".flowMsgPopover");console.log(this.detailInfo),n.innerHTML=i.innerHTML,n.className="tipBox",n.style.width="260px",n.style.background="rgba(185,181,181,0.6)",t.add(e.element.id,{position:{top:e.element.height,left:0},html:n})},bindEvents:function(){var e=this,t=v.get("eventBus"),n=v.get("overlays");t.on("element.hover",(function(t){"bpmn:UserTask"===t.element.type&&e.nodeDetail[t.element.id]&&(e.detailInfo=e.nodeDetail[t.element.id],setTimeout((function(){console.log("节点类型:"+t.element.type),"bpmn:UserTask"===t.element.type&&e.genNodeDetailBox(t,n)}),10))})),t.on("element.out",(function(e){n.clear()}))},processZoomIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,t=Math.floor(100*this.defaultZoom+100*e)/100;if(t>4)throw new Error("[Process Designer Warn ]: The zoom ratio cannot be greater than 4");this.defaultZoom=t,v.get("canvas").zoom(this.defaultZoom)},processZoomOut:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,t=Math.floor(100*this.defaultZoom-100*e)/100;if(t<.2)throw new Error("[Process Designer Warn ]: The zoom ratio cannot be less than 0.2");this.defaultZoom=t,v.get("canvas").zoom(this.defaultZoom)},processReZoom:function(){this.defaultZoom=1,v.get("canvas").zoom("fit-viewport","auto")},formatTime:function(e){var t=new Date(e),n=t.getFullYear(),i=("0"+(t.getMonth()+1)).slice(-2),a=("0"+t.getDate()).slice(-2),o=("0"+t.getHours()).slice(-2),r=("0"+t.getMinutes()).slice(-2),s=("0"+t.getSeconds()).slice(-2);return"".concat(n,"-").concat(i,"-").concat(a," ").concat(o,":").concat(r,":").concat(s)},handleOpen:function(e){var t=this;this.activeName="zzGc",this.dialogVisible=!0,this.rowData=e,this.pictureXml=null,setTimeout((function(){t.getXmlData()}),10)},getXmlData:function(){var e=this;this.instanceId=this.rowData.processInstanceId,this.initPage(this.rowData.processInstanceId,null),Object(l["g"])({processInstanceId:this.rowData.processInstanceId}).then((function(t){e.historyList=t.data})).catch((function(e){console.error("获取历史记录时出错:",e)}))}}},w=y,k=(n("6c1e"),n("2877")),J=Object(k["a"])(w,i,a,!1,null,null,null);t["default"]=J.exports},ad46:function(e,t,n){},ef5b:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return l}));var i=n("b775");function a(e){return Object(i["a"])({url:"/infoQingJia/infoQingJia/list",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/infoQingJia/infoQingJia/"+e,method:"get"})}function r(e){return Object(i["a"])({url:"/infoQingJia/infoQingJia",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/infoQingJia/infoQingJia",method:"put",data:e})}function l(e){return Object(i["a"])({url:"/infoQingJia/infoQingJia/"+e,method:"delete"})}},ff02:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return c}));var i=n("b775");function a(e){return Object(i["a"])({url:"/processDefinition/list",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/processDefinition/suspendOrActiveApply",method:"post",data:e})}function r(e,t){return Object(i["a"])({url:"/processDefinition/remove/"+e+"/"+t,method:"delete"})}function s(e){return Object(i["a"])({url:"/processDefinition/getDefinitionXML",method:"get",params:e})}function l(e){return Object(i["a"])({url:"/processDefinition/uploadStreamAndDeployment2",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/processDefinition/getHighLightedNodeVoByProcessInstanceId",method:"get",params:{instanceId:e.instanceId,procDefId:e.procDefId}})}}}]);